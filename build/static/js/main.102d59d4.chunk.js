(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{20:function(e,t,n){},22:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(15),o=n.n(a),i=(n(20),n(3)),u=n(0),l=function(e){var t=e.filterName,n=e.handleFilterName;return Object(u.jsxs)("p",{children:["filter shown with: ",Object(u.jsx)("input",{value:t,onChange:n})]})},d=function(e){var t=e.list;return Object(u.jsxs)("form",{onSubmit:t.handleAddButton,children:[Object(u.jsxs)("div",{children:["name:   ",Object(u.jsx)("input",{value:t.newName,onChange:t.handleNewName})," ",Object(u.jsx)("br",{}),"number: ",Object(u.jsx)("input",{type:"number",value:t.newNumber,onChange:t.handleNewNumber})]}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{type:"submit",children:"add"})})]})},s=function(e){var t=e.person,n=e.handleDelete;return Object(u.jsxs)("p",{children:[t.name," ",t.number,Object(u.jsx)("button",{onClick:n,children:"delete"})]})},b=function(e){var t=e.list,n=e.filter,c=e.handleDelete,r=new RegExp("".concat(n),"i");return""===n?t.map((function(e){return Object(u.jsx)(s,{handleDelete:c(e.id,e.name),person:e},e.id)})):t.filter((function(e){return r.test(e.name)})).map((function(e){return Object(u.jsx)(s,{handleDelete:c(e.id,e.name),person:e},e.name)}))},j=(n(22),n(4)),f=n.n(j),h="/api/persons",m={getAll:function(){return f.a.get(h).then((function(e){return e.data}))},create:function(e){return f.a.post(h,e).then((function(e){return e.data}))},del:function(e){f.a.delete("".concat(h,"/").concat(e))},update:function(e,t){return f.a.put("".concat(h,"/").concat(e),t).then((function(e){return e.data}))}},O=n(5),p=function(e){var t=e.info,n=e.type,c={color:"green",background:"lightgrey",fontSize:"20px",borderStyle:"solid",borderRadius:"5px",padding:"10px",marginBottom:"10px"},r=Object(O.a)(Object(O.a)({},c),{},{color:"blue"}),a=Object(O.a)(Object(O.a)({},c),{},{color:"red"});return null===t?null:"add"===n?Object(u.jsx)("div",{style:c,children:t}):"update"===n?Object(u.jsx)("div",{style:r,children:t}):"err"===n?Object(u.jsx)("div",{style:a,children:t}):void 0},x=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),o=Object(i.a)(a,2),s=o[0],j=o[1],f=Object(c.useState)(""),h=Object(i.a)(f,2),O=h[0],x=h[1],v=Object(c.useState)(""),w=Object(i.a)(v,2),g=w[0],N=w[1],y=Object(c.useState)(null),S=Object(i.a)(y,2),k=S[0],D=S[1],A=Object(c.useState)(""),B=Object(i.a)(A,2),C=B[0],E=B[1];Object(c.useEffect)((function(){m.getAll().then((function(e){r(e)}))}),[]);var T={handleAddButton:function(e){e.preventDefault();var t={name:s,number:O},c=0;n.some((function(e){return e.name===s}))&&(c=n.filter((function(e){return e.name===s}))[0].id),n.some((function(e){return e.name===s}))?window.confirm("".concat(s," is already added to phonebook, replace the old number with a new one?"))?m.update(c,t).then((function(e){E("update"),D("Updated ".concat(s)),setTimeout((function(){D(null)}),3e3),r(n.filter((function(e){return e.name!==s})).concat(e))})).catch((function(){E("err"),D("Information of ".concat(s," has already been removed from server")),setTimeout((function(){D(null)}),3e3)})):console.log("nada a pasado"):m.create(t).then((function(e){E("add"),D("Added ".concat(s)),setTimeout((function(){D(null)}),3e3),r(n.concat(e))})),j(""),x("")},newName:s,handleNewName:function(e){j(e.target.value)},newNumber:O,handleNewNumber:function(e){x(e.target.value.toString())}};return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"Phonebook"}),Object(u.jsx)(p,{info:k,type:C}),Object(u.jsx)(l,{filterName:g,handleFilterName:function(e){N(e.target.value)}}),Object(u.jsx)("h2",{children:"add a new "}),Object(u.jsx)(d,{list:T}),Object(u.jsx)("h2",{children:"Numbers"}),Object(u.jsx)(b,{list:n,filter:g,handleDelete:function(e,t){return function(){window.confirm("desea borrar ".concat(t))&&(m.del(e),r(n.filter((function(t){return t.id!==e}))))}}})]})};o.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(x,{})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.102d59d4.chunk.js.map