{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/phonebook.js","components/MessageAdd.js","App.js","index.js"],"names":["Filter","filterName","handleFilterName","value","onChange","PersonForm","list","onSubmit","handleAddButton","newName","handleNewName","type","newNumber","handleNewNumber","Person","person","handleDelete","name","number","onClick","Persons","filter","regex","RegExp","map","id","test","baseUrl","exp","getAll","axios","get","then","res","data","create","newPerson","post","del","delete","update","newObject","put","MessageAdd","info","messageStyleAdd","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","messageStyleUpdate","messageStyleErr","style","App","useState","persons","setPersons","setNewName","setNewNumber","setFilterName","message","setMessage","typeOfMessage","setTypeOfMessage","useEffect","phonebookServices","allNumbers","event","preventDefault","idRepeat","some","window","confirm","updateObj","setTimeout","concat","catch","console","log","newNum","target","toString","per","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.102d59d4.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({filterName,handleFilterName}) => {\r\n  return (\r\n    <p>filter shown with: <input value={filterName} onChange={handleFilterName}/></p>\r\n  )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({list}) => {\r\n    return (\r\n      <form onSubmit={list.handleAddButton}>\r\n          <div>\r\n            name:   <input value = {list.newName} onChange={list.handleNewName} /> <br />\r\n            number: <input type='number' value = {list.newNumber} onChange={list.handleNewNumber} />\r\n          </div>\r\n          <div>\r\n            <button type=\"submit\">add</button>\r\n          </div>\r\n        </form>\r\n    )\r\n  }\r\n  export default PersonForm\r\n  ","import React from 'react'\r\n\r\nconst Person = ({person,handleDelete}) => {\r\n    return (\r\n      <p>\r\n      {person.name} {person.number}\r\n      <button onClick={handleDelete}>delete</button>\r\n      </p>\r\n    )\r\n  }\r\n  \r\n  const Persons = ({list, filter,handleDelete}) => {\r\n    let regex = new RegExp(`${filter}`, 'i')\r\n    if (filter === '') {\r\n      return (list.map(person => <Person handleDelete={handleDelete(person.id, person.name)} key = {person.id} person = {person}/>)\r\n      )\r\n    }\r\n    return (\r\n      list.filter(person => regex.test(person.name)).map(person => <Person handleDelete={handleDelete(person.id, person.name)} key = {person.name} person = {person}/>)\r\n    \r\n    )\r\n  }\r\n\r\n  export default Persons","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(res=>res.data)\r\n}\r\n\r\nconst create = (newPerson) => {\r\n    const request = axios.post(baseUrl,newPerson)\r\n    return request.then(res=>res.data)\r\n}\r\n\r\nconst del = (id) => {\r\n    axios.delete(`${baseUrl}/${id}`)\r\n\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`,newObject)\r\n    return (\r\n        request.then(res=>res.data)\r\n    )\r\n}\r\n\r\nconst exp = { getAll, create, del, update }\r\n\r\nexport default exp","import React from 'react'\r\n\r\nconst MessageAdd = ({info,type}) => {\r\n    const messageStyleAdd={\r\n        color: 'green',\r\n        background: 'lightgrey',\r\n        fontSize: '20px',\r\n        borderStyle: 'solid',\r\n        borderRadius: '5px',\r\n        padding: '10px',\r\n        marginBottom: '10px'  \r\n    }\r\n\r\n    const messageStyleUpdate={...messageStyleAdd, color:'blue'}\r\n    const messageStyleErr={...messageStyleAdd, color:'red'}\r\n\r\n    if (info === null) {\r\n        return null\r\n    }\r\n    if (type ==='add') {\r\n\r\n        return (\r\n            <div style={messageStyleAdd}>\r\n            {info} \r\n            </div>\r\n        )\r\n    }\r\n    if (type === 'update') {\r\n        return (\r\n            <div style={messageStyleUpdate}>\r\n            {info} \r\n            </div>\r\n        )\r\n    }\r\n    if (type === 'err') {\r\n        return (\r\n            <div style={messageStyleErr}>\r\n            {info} \r\n            </div>\r\n        ) \r\n    }\r\n}\r\n\r\nexport default MessageAdd","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport './App.css'\nimport phonebookServices from './services/phonebook'\nimport MessageAdd from './components/MessageAdd'\n\n\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber] = useState('')\n  const [ filterName, setFilterName] = useState('')\n  const [ message,setMessage] = useState(null)\n  const [typeOfMessage, setTypeOfMessage] = useState('')\n\n  useEffect(() => {\n    phonebookServices\n      .getAll()\n      .then(allNumbers => {setPersons(allNumbers)})\n  },[])\n\n\n  const handleAddButton = (event) => {\n    event.preventDefault()\n    const newPerson = {\n      name: newName,\n      number: newNumber\n    }\n    \n    let idRepeat = 0\n    \n    if (persons.some(person => person.name === newName )) {\n      idRepeat = persons.filter(person => person.name === newName)[0].id\n    }\n    \n    persons.some(person => person.name === newName )\n    ? (\n      window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)\n      ? (\n        phonebookServices\n          .update(idRepeat, newPerson)\n          .then(updateObj => {\n            setTypeOfMessage('update')\n            setMessage(`Updated ${newName}`)\n            setTimeout(()=>{setMessage(null)},3000)\n            setPersons(persons.filter(person => person.name !== newName).concat(updateObj))\n\n          })\n          .catch(()=>{\n            setTypeOfMessage('err')\n            setMessage(`Information of ${newName} has already been removed from server`)\n            setTimeout(()=>{setMessage(null)},3000) \n          })\n      )\n      : console.log('nada a pasado')\n    )\n    : (\n      phonebookServices\n        .create(newPerson)\n        .then(newNum=>{\n          setTypeOfMessage('add')\n          setMessage(`Added ${newName}`)\n          setTimeout(()=>{setMessage(null)},3000)\n          setPersons(persons.concat(newNum))}\n        )\n    )\n    \n    setNewName('')\n    setNewNumber('')\n  }\n\n  const handleNewName = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNewNumber = (event) => {\n    setNewNumber(event.target.value.toString())\n  }\n\n  const handleFilterName = (event) => {\n    setFilterName(event.target.value)\n  }\n\n  const list = {\n    handleAddButton,\n    newName,\n    handleNewName,\n    newNumber,\n    handleNewNumber\n  }\n\n  const handleDelete = (id,name) => () => {\n    if(window.confirm(`desea borrar ${name}`)) {\n      phonebookServices\n        .del(id)\n      setPersons(persons.filter(per=>per.id!==id))\n    }\n  }\n  \n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <MessageAdd info = {message} type={typeOfMessage} />\n      <Filter filterName = {filterName} handleFilterName = {handleFilterName} />\n      <h2>add a new </h2>\n      <PersonForm list = {list} />\n      <h2>Numbers</h2>\n      <Persons list = {persons} filter = {filterName} handleDelete={handleDelete}/>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}